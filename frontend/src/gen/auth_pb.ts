// @generated by protoc-gen-es v2.10.2 with parameter "target=ts,import_extension=ts"
// @generated from file auth.proto (package musicclub.auth, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { EmptySchema } from "@bufbuild/protobuf/wkt";
import { file_google_protobuf_empty } from "@bufbuild/protobuf/wkt";
import type { PermissionSet } from "./permissions_pb.ts";
import { file_permissions } from "./permissions_pb.ts";
import type { User } from "./user_pb.ts";
import { file_user } from "./user_pb.ts";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file auth.proto.
 */
export const file_auth: GenFile = /*@__PURE__*/
  fileDesc("CgphdXRoLnByb3RvEg5tdXNpY2NsdWIuYXV0aCI3Cg5UZ0xvZ2luUmVxdWVzdBIRCglpbml0X2RhdGEYASABKAkSEgoKdGdfdXNlcl9pZBgCIAEoBCLRAQoLQXV0aFNlc3Npb24SFAoMYWNjZXNzX3Rva2VuGAEgASgJEgsKA2lhdBgCIAEoBBILCgNleHAYAyABKAQSFgoOaXNfY2hhdF9tZW1iZXIYBCABKAgSGAoQam9pbl9yZXF1ZXN0X3VybBgFIAEoCRIlCgdwcm9maWxlGAYgASgLMhQubXVzaWNjbHViLnVzZXIuVXNlchI5CgtwZXJtaXNzaW9ucxgHIAEoCzIkLm11c2ljY2x1Yi5wZXJtaXNzaW9ucy5QZXJtaXNzaW9uU2V0InMKD1Byb2ZpbGVSZXNwb25zZRIlCgdwcm9maWxlGAEgASgLMhQubXVzaWNjbHViLnVzZXIuVXNlchI5CgtwZXJtaXNzaW9ucxgCIAEoCzIkLm11c2ljY2x1Yi5wZXJtaXNzaW9ucy5QZXJtaXNzaW9uU2V0MqYBCgtBdXRoU2VydmljZRJQChFMb2dpbldpdGhUZWxlZ3JhbRIeLm11c2ljY2x1Yi5hdXRoLlRnTG9naW5SZXF1ZXN0GhsubXVzaWNjbHViLmF1dGguQXV0aFNlc3Npb24SRQoKR2V0UHJvZmlsZRIWLmdvb2dsZS5wcm90b2J1Zi5FbXB0eRofLm11c2ljY2x1Yi5hdXRoLlByb2ZpbGVSZXNwb25zZWIGcHJvdG8z", [file_google_protobuf_empty, file_permissions, file_user]);

/**
 * @generated from message musicclub.auth.TgLoginRequest
 */
export type TgLoginRequest = Message<"musicclub.auth.TgLoginRequest"> & {
  /**
   * Raw init data from Telegram Mini App (used for signature verification).
   *
   * @generated from field: string init_data = 1;
   */
  initData: string;

  /**
   * Optional explicit Telegram user id (if provided by the client).
   *
   * @generated from field: uint64 tg_user_id = 2;
   */
  tgUserId: bigint;
};

/**
 * Describes the message musicclub.auth.TgLoginRequest.
 * Use `create(TgLoginRequestSchema)` to create a new message.
 */
export const TgLoginRequestSchema: GenMessage<TgLoginRequest> = /*@__PURE__*/
  messageDesc(file_auth, 0);

/**
 * @generated from message musicclub.auth.AuthSession
 */
export type AuthSession = Message<"musicclub.auth.AuthSession"> & {
  /**
   * JWT access token.
   *
   * @generated from field: string access_token = 1;
   */
  accessToken: string;

  /**
   * Token issued-at and expiration (unix seconds).
   *
   * @generated from field: uint64 iat = 2;
   */
  iat: bigint;

  /**
   * @generated from field: uint64 exp = 3;
   */
  exp: bigint;

  /**
   * Whether the user is already a member of the music club chat.
   *
   * @generated from field: bool is_chat_member = 4;
   */
  isChatMember: boolean;

  /**
   * If not a member, link to request manual approval to join the chat.
   *
   * @generated from field: string join_request_url = 5;
   */
  joinRequestUrl: string;

  /**
   * Convenience: current user's profile data.
   *
   * @generated from field: musicclub.user.User profile = 6;
   */
  profile?: User;

  /**
   * Permissions snapshot for the session.
   *
   * @generated from field: musicclub.permissions.PermissionSet permissions = 7;
   */
  permissions?: PermissionSet;
};

/**
 * Describes the message musicclub.auth.AuthSession.
 * Use `create(AuthSessionSchema)` to create a new message.
 */
export const AuthSessionSchema: GenMessage<AuthSession> = /*@__PURE__*/
  messageDesc(file_auth, 1);

/**
 * @generated from message musicclub.auth.ProfileResponse
 */
export type ProfileResponse = Message<"musicclub.auth.ProfileResponse"> & {
  /**
   * @generated from field: musicclub.user.User profile = 1;
   */
  profile?: User;

  /**
   * @generated from field: musicclub.permissions.PermissionSet permissions = 2;
   */
  permissions?: PermissionSet;
};

/**
 * Describes the message musicclub.auth.ProfileResponse.
 * Use `create(ProfileResponseSchema)` to create a new message.
 */
export const ProfileResponseSchema: GenMessage<ProfileResponse> = /*@__PURE__*/
  messageDesc(file_auth, 2);

/**
 * Authentication and membership gating for the mini app.
 *
 * @generated from service musicclub.auth.AuthService
 */
export const AuthService: GenService<{
  /**
   * Telegram OAuth (Mini App) login. Returns JWT and membership info.
   *
   * @generated from rpc musicclub.auth.AuthService.LoginWithTelegram
   */
  loginWithTelegram: {
    methodKind: "unary";
    input: typeof TgLoginRequestSchema;
    output: typeof AuthSessionSchema;
  },
  /**
   * Returns current user profile and permissions for UI gating.
   *
   * @generated from rpc musicclub.auth.AuthService.GetProfile
   */
  getProfile: {
    methodKind: "unary";
    input: typeof EmptySchema;
    output: typeof ProfileResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_auth, 0);

